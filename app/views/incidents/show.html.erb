<div class="min-h-screen bg-gray-50 py-8">
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
    <!-- Header -->
    <div class="mb-8">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <%= link_to incidents_path, class: "text-gray-400 hover:text-gray-600" do %>
            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
            </svg>
          <% end %>
          <div>
            <h1 class="text-3xl font-bold text-gray-900"><%= @incident.incident_number %></h1>
            <p class="text-lg text-gray-600"><%= @incident.title %></p>
          </div>
        </div>

        <%= render 'incident_actions', incident: @incident %>
      </div>
    </div>

    <%= render 'shared/flash_messages' %>

    <!-- Main Content -->
    <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">
      <!-- Incident Details -->
      <div class="lg:col-span-2">
        <div class="bg-white shadow rounded-lg">
          <div class="px-6 py-4 border-b border-gray-200">
            <h3 class="text-lg font-medium text-gray-900">Incident Details</h3>
          </div>
          <div class="px-6 py-4 space-y-6">
            <%= render 'incident_badges', incident: @incident %>

            <!-- Description -->
            <% if @incident.description.present? %>
              <div>
                <h4 class="text-sm font-medium text-gray-700 mb-2">Description</h4>
                <div class="prose prose-sm max-w-none text-gray-600">
                  <%= simple_format(@incident.description) %>
                </div>
              </div>
            <% end %>

            <!-- Assignment -->
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <div>
                <h4 class="text-sm font-medium text-gray-700">Reported by</h4>
                <p class="mt-1 text-sm text-gray-900"><%= @incident.created_by %></p>
              </div>
              <% if @incident.assigned_to.present? %>
                <div>
                  <h4 class="text-sm font-medium text-gray-700">Assigned to</h4>
                  <p class="mt-1 text-sm text-gray-900"><%= @incident.assigned_to %></p>
                </div>
              <% end %>
            </div>
          </div>
        </div>
      </div>

      <%= render 'incident_timeline', incident: @incident %>
    </div>
  </div>
</div>
